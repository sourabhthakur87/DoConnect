<div class="overlay" *ngIf="isMenuOpen" (click)="closeMenu()"></div>
<app-admin-nav [isOpen]="isMenuOpen" (closeMenu)="closeMenu()"></app-admin-nav>

<div class="topbar">
  <button *ngIf="!isMenuOpen" (click)="toggleMenu()" class="menu-btn">☰</button>
  <h4 (click)="adminDashboard()">DoConnect</h4>
  <h2>Questions Status - <span style="color: rgb(242, 0, 0);" >Pending </span>  </h2>
</div>



<!-- ✅ Table for Pending Questions -->
<div *ngIf="pendingQuestion.length > 0">
  <div class="table-wrapper">
    <table class="question-table">
      <thead>
        <tr>
          <th class="image-col">Image</th>
          <th class="title-col">Question Title</th>
          <th class="text-col">Question Text</th>
          <th class="actions-col">Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let question of pendingQuestion">
          <td class="image-cell">
            <div class="image-wrapper">
              <img *ngIf="question.imagePath; else defaultImage"
                [src]="'http://localhost:5122/images/' + question.imagePath" alt="Question Image" class="thumbnail"
                (click)="showLargeImage(question.imagePath)">
              <ng-template #defaultImage>
                <img src="download.jpeg" alt="Default Image" class="thumbnail">
              </ng-template>
              <p class="asked-by"><strong>Asked By:</strong> {{ question.askedBy }}</p>
            </div>
          </td>
          <td>{{ question.questionTitle }}</td>
          <td>{{ question.questionText }}</td>
          <td>
            <button class="approve-btn" (click)="approveQuestion(question.questionId)">Approve</button>
            <button class="reject-btn" (click)="rejectQuestion(question.questionId)">Reject</button>
            <button class="delete-btn" (click)="removeQuestion(question.questionId)">Delete</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

<!-- ✅ No Pending Questions -->
<div *ngIf="pendingQuestion.length === 0" class="no-pending">
  <h2>No Pending Questions</h2>
</div>

<!-- ✅ Modal for Enlarged Image -->
<div *ngIf="selectedImage" class="modal">
  <div class="modal-content">
    <span class="close-btn" (click)="closeModal()">×</span>
    <img [src]="'http://localhost:5122/images/' + selectedImage" alt="Enlarged Image" class="large-image">
  </div>
</div>